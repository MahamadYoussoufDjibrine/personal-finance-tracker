<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Tracker - Dashboard</title>
    
    <link rel="stylesheet" href="./css/main.css">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <script src="./js/firebase-config.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon"></div>
                Finance
                <span>Personal Tracker</span>
            </div>

            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-view="dashboard">
                    <i class="icon-dashboard"></i> Dashboard
                </a>
                <a href="#" class="nav-item" data-view="transactions">
                    <i class="icon-transactions"></i> Transactions
                </a>
                <a href="#" class="nav-item" data-view="analytics">
                    <i class="icon-analytics"></i> Analytics
                </a>
                <a href="#" class="nav-item" data-view="settings">
                    <i class="icon-settings"></i> Settings
                </a>
            </nav>

            <div class="sign-out-area">
                <a href="#" id="sign-out-link">
                 <i class="icon-sign-out"></i> Sign Out
                </a>
            </div>
        </aside>

        <main class="content-area">
            
            <section id="dashboard-view" class="content-view active">
                <h1 id="welcome-message">Welcome back, clever!</h1>
                <p>Here's your financial overview for this month</p>
                
                <div class="stats-cards">
                    <div class="stat-card balance-card">
                        <span class="label">Total Balance</span>
                        <span class="value" id="total-balance">$8,234.56</span>
                    </div>
                    <div class="stat-card income-card">
                        <span class="label">This Month Income</span>
                        <span class="value" id="monthly-income">$6,200.00</span>
                    </div>
                    <div class="stat-card expense-card">
                        <span class="label">This Month Expense</span>
                        <span class="value" id="monthly-expense">$1,250.50</span>
                    </div>
                </div>

                <div class="balance-trend-chart">
                    <h2>Balance Trend</h2>
                    <canvas id="balanceTrendChart"></canvas>
                </div>

                <div class="recent-transactions">
                    <div class="transactions-header">
                        <h2>Recent Transactions</h2>
                        <button class="btn btn-primary" id="add-transaction-btn-dash">
                            + Add Transaction
                        </button>
                    </div>
                    <div id="recent-transactions-list" class="transaction-list">
                        <div class="transaction-item income">
                            <div class="icon-name">
                                <i class="icon-salary"></i>
                                <div><span class="name">Monthly Salary</span><span class="category">Salary</span></div>
                            </div>
                            <div class="amount-date">
                                <span class="amount">+ $5,000.00</span>
                                <span class="date">Nov 29</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="transactions-view" class="content-view">
                <h1>Transactions</h1>
                <p>View and manage all your financial transactions</p>

                <div class="transactions-controls">
                    <div class="search-filter-group">
                        <div class="search-input">
                            <i class="icon-search"></i>
                            <input type="text" placeholder="Search transactions...">
                        </div>
                        <select class="category-select">
                            <option>All Categories</option>
                            </select>
                    </div>
                    <button class="btn btn-primary" id="add-transaction-btn-full">+ Add Transaction</button>
                </div>
                
                <div id="full-transactions-list" class="transaction-list">
                    </div>
            </section>
            
            <section id="analytics-view" class="content-view">
                <h1>Analytics</h1>
                <p>Visualize your spending patterns and financial insights</p>

                <div class="analytics-top-stats stats-cards">
                    <div class="stat-card">
                        <span class="label">Top Category</span>
                        <span class="value">$450.00</span>
                    </div>
                    <div class="stat-card">
                        <span class="label">Total Income (YTD)</span>
                        <span class="value">$20,940.00</span>
                    </div>
                    <div class="stat-card">
                        <span class="label">Total Expense (YTD)</span>
                        <span class="value">$10,606.00</span>
                    </div>
                </div>

                <div class="analytics-charts-grid">
                    <div class="chart-area income-vs-expense">
                        <h2>Income vs Expense</h2>
                        <canvas id="incomeVsExpenseChart"></canvas>
                    </div>
                    <div class="chart-area spending-by-category">
                        <h2>Spending by Category</h2>
                        <canvas id="spendingByCategoryChart"></canvas>
                    </div>
                </div>

                <div class="summary-section">
                    <h2>Summary</h2>
                    <div class="stats-cards">
                        <div class="stat-card">
                            <span class="label">Savings Rate</span>
                            <span class="value">52%</span>
                        </div>
                        <div class="stat-card">
                            <span class="label">Average Monthly Expense</span>
                            <span class="value">$1,767.67</span>
                        </div>
                        <div class="stat-card">
                            <span class="label">Average Monthly Income</span>
                            <span class="value">$3,490.00</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="settings-view" class="content-view">
                <h1>Settings</h1>
                <p>Manage your account preferences and settings</p>
                
                <form id="settings-form" class="settings-form-grid">
                    <div class="settings-group">
                        <h2>Profile Settings</h2>
                        <div class="input-group">
                            <label for="setting-full-name">Full Name</label>
                            <input type="text" id="setting-full-name" value="clever">
                        </div>
                        <div class="input-group">
                            <label for="setting-email">Email Address</label>
                            <input type="email" id="setting-email" value="clever@gmail.com" disabled>
                        </div>
                        <button type="button" class="link-btn">Change Password</button>
                    </div>

                    <div class="settings-group">
                        <h2>Preferences</h2>
                        <div class="input-group">
                            <label for="setting-currency">Currency</label>
                            <select id="setting-currency">
                                <option>US Dollar (USD)</option>
                                <option>Euro (EUR)</option>
                            </select>
                            <p class="note">This will be used to format all currency values</p>
                        </div>
                        <div class="input-group checkbox-group">
                            <input type="checkbox" id="setting-notifications" checked>
                            <label for="setting-notifications">Email Notifications</label>
                            <p class="note">Receive updates about your finances</p>
                        </div>
                    </div>
                    
                    <div class="settings-group">
                        <h2>Data Management</h2>
                        <button type="button" class="btn btn-export">
                            <i class="icon-export"></i> Export Transactions as CSV
                        </button>
                        <p class="note">Download all your transaction data in CSV format for backup or analysis.</p>
                    </div>

                    <div class="settings-group">
                        <h2>Security</h2>
                        <div class="input-group checkbox-group">
                            <input type="checkbox" id="setting-two-factor">
                            <label for="setting-two-factor">Enable Two-Factor Authentication</label>
                            <p class="note">Add an extra layer of security to your account.</p>
                        </div>
                    </div>

                    <div class="settings-group danger-zone">
                        <h2>Danger Zone</h2>
                        <button type="button" class="btn btn-delete">Delete Account</button>
                        <p class="note">These actions cannot be undone. Please proceed with caution.</p>
                    </div>
                    
                    <button type="submit" class="btn btn-primary save-settings-btn">Save Settings</button>
                </form>
            </section>

        </main>
    </div>

    <div id="add-transaction-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Add Transaction</h2>
            <p>Record a new income or expense transaction</p>

            <form id="new-transaction-form">
                <div class="transaction-type-switch">
                    <button type="button" class="type-btn active" data-type="expense">Expense</button>
                    <button type="button" class="type-btn" data-type="income">Income</button>
                </div>

                <div class="input-group">
                    <label for="transaction-amount">Amount *</label>
                    <input type="number" id="transaction-amount" placeholder="$ 0.00" required>
                </div>
                <div class="input-group">
                    <label for="transaction-category">Category *</label>
                    <select id="transaction-category" required>
                        <option value="Salary">Salary</option>
                        <option value="Food">Food</option>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Transportation">Transportation</option>
                        <option value="Utilities">Utilities</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="transaction-date">Date *</label>
                    <input type="date" id="transaction-date" value="2025-12-01" required>
                </div>
                <div class="input-group">
                    <label for="transaction-description">Description *</label>
                    <input type="text" id="transaction-description" placeholder="e.g., Grocery shopping, Monthly rent..." required>
                </div>

                <div class="input-group receipt-upload">
                    <label>Receipt (Optional)</label>
                    <div class="upload-box">
                        <input type="file" id="transaction-receipt" accept="image/*" style="display: none;">
                        <label for="transaction-receipt">Click to upload receipt image</label>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-transaction-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Transaction</button>
                </div>
            </form>
        </div>
    </div>

    <script src="./js/dashboard.js"></script>
    <script src="./js/transactions.js"></script>
    <script src="./js/auth.js"></script> 
</body>
</html>